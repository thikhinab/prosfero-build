{"version":3,"sources":["components/NavigationBar.js","utils/UserContext.js","pages/Profile.js","pages/Login.js","pages/Registration.js","pages/Welcome.js","utils/WelcomeRouter.js","utils/FetchLocations.js","components/LocationSelect.js","pages/CreatePost.js","components/Card.js","components/Filter.js","pages/Home.js","pages/Post.js","pages/EditPost.js","pages/Search.js","components/Conversation.js","components/Message.js","pages/Chat.js","pages/YourRequests.js","pages/Telebot.js","App.js","reportWebVitals.js","index.js"],"names":["NavigationBar","loggedin","logout","func","history","useHistory","useState","searchString","setSearchString","className","style","fontFamily","type","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","id","to","onClick","push","height","placeholder","onChange","e","target","value","margin","preventDefault","replace","length","UserContext","createContext","Profile","fileInput","useRef","useContext","user","setUser","image","setImage","file","setFile","profile","setProfile","requests","setRequests","notifs","setNotifs","url","uploadImage","a","undefined","selectedFile","files","data","FormData","append","axios","post","then","res","secure_url","profilePicture","fetch","method","headers","Authorization","token","body","JSON","stringify","console","log","catch","err","alert","useEffect","get","document","closeNotif","notif","create","baseURL","requestid","createReqData","reqData","receiverId","senderId","href","class","approve","instance","decline","expired","localStorage","removeItem","fontWeight","firstName","lastName","email","d","date","Date","dd","getDate","mm","getMonth","getFullYear","formatDate","createdAt","src","alt","transform","display","name","ref","current","click","marginTop","username","noOfPosts","achievementLevel","color","map","item","status","role","title","data-bs-dismiss","Login","password","state","setState","change","newState","prescenseCheck","fontSize","error","setItem","onSubmit","Registration","getItem","Welcome","location","WelcomeRouter","provider","OpenStreetMapProvider","params","countrycodes","FetchLocations","text","search","query","LocationSelect","defaultValue","loading","suggestions","menuIsOpen","onSelect","inputValue","setInputValue","debouncedSave","useCallback","debounce","newValue","options","sug","label","lon","x","lat","y","onInputChange","input","object","isLoading","loadingMessage","CreatePost","category","description","setSuggestions","setLoading","setMenuIsOpen","selected","setSelected","getSuggestions","word","response","htmlFor","autoComplete","disabled","rows","fileSelectedHandler","desc","Card","index","maxHeight","textDecoration","toUTCString","CATEGORIES","_id","Filter","handleFilters","handleOrder","customStyle","checked","setChecked","sortOrder","setSortOrder","handleRadio","newOrder","marginBottom","cat","includes","val","currentIndex","indexOf","newChecked","splice","handleChange","s","paddingBottom","padding","autocomplete","for","Home","more","setMore","skip","setSkip","element","setElement","filters","setFilters","filteredList","setFilteredList","setSortOder","fetchData","order","parseInt","showResults","loader","observer","IntersectionObserver","entries","isIntersecting","rootMargin","threshold","currentElement","currentObserver","observe","unobserve","fil","filter","newFilters","Post","postId","useParams","formUrl","showForm","setShowForm","maxWidth","userid","EditPost","editURL","lan","put","Search","URLSearchParams","substring","q","limit","list","Conversation","conversation","currentUser","onCustomClick","friendId","members","find","m","getUser","Message","message","own","format","Chat","conversations","setConversations","currentChat","setCurrentChat","messages","setMessages","newMessage","setNewMessage","arrivalMessage","setArrivalMessage","scrollRef","chatUsername","setChatUsername","expanded","setExpanded","socket","window","addEventListener","innerWidth","io","on","sender","now","prev","emit","getConversations","getMessages","handleSubmit","conversationId","recieverId","member","scrollIntoView","behavior","backgroundColor","borderRadius","c","paddingTop","YourRequests","success","fail","Telebot","onUsernameSubmit","onCategorySubmit","App","useMemo","Provider","path","exact","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b2815793.chunk.js","sourcesContent":["import { useState } from \"react\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\n\r\nconst NavigationBar = ({ loggedin, func: logout }) => {\r\n  const history = useHistory();\r\n\r\n  const [searchString, setSearchString] = useState(\"\");\r\n\r\n  const handleChange = (e) => {\r\n    setSearchString(e.target.value);\r\n  };\r\n\r\n  const submit = (e) => {\r\n    e.preventDefault();\r\n    if (!searchString.replace(/\\s/g, \"\").length || searchString !== \"\") {\r\n      return history.push(`/search?q=${searchString}`);\r\n    }\r\n  };\r\n\r\n  const fontStyle = {\r\n    fontFamily: \"Dancing Script\",\r\n  };\r\n\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-primary\">\r\n      <div className=\"container-fluid\">\r\n        <span className=\"navbar-brand\" style={fontStyle}>\r\n          Prosfero\r\n        </span>\r\n        <button\r\n          className=\"navbar-toggler\"\r\n          type=\"button\"\r\n          data-bs-toggle=\"collapse\"\r\n          data-bs-target=\"#navbarNav\"\r\n          aria-controls=\"navbarNav\"\r\n          aria-expanded=\"false\"\r\n          aria-label=\"Toggle navigation\"\r\n        >\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n          {loggedin ? (\r\n            <>\r\n              <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n                <li className=\"nav-item\">\r\n                  <Link className=\"nav-link\" to=\"/home\">\r\n                    Home\r\n                  </Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <Link className=\"nav-link\" to=\"/profile\">\r\n                    Profile\r\n                  </Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <Link className=\"nav-link\" to=\"/createpost\">\r\n                    Create Post\r\n                  </Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <Link className=\"nav-link\" to=\"/chat\">\r\n                    Chat\r\n                  </Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <Link className=\"nav-link\" to=\"/telebot\">\r\n                    Telebot\r\n                  </Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <span\r\n                    className=\"nav-link\"\r\n                    onClick={() => {\r\n                      logout();\r\n                      history.push(\"/login\");\r\n                    }}\r\n                  >\r\n                    Logout\r\n                  </span>\r\n                </li>\r\n              </ul>\r\n              <form className=\"d-flex\" style={{ height: \"2.5rem\" }}>\r\n                <input\r\n                  className=\"form-control me-2\"\r\n                  type=\"search\"\r\n                  placeholder=\"Search\"\r\n                  aria-label=\"Search\"\r\n                  onChange={handleChange}\r\n                />\r\n                <button\r\n                  className=\"btn btn-outline-light\"\r\n                  style={{\r\n                    margin: \"0rem\",\r\n                  }}\r\n                  onClick={submit}\r\n                >\r\n                  Search\r\n                </button>\r\n              </form>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n                <li className=\"nav-item\">\r\n                  <Link className=\"nav-link\" to=\"/registration\">\r\n                    Register\r\n                  </Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <Link className=\"nav-link\" to=\"/login\">\r\n                    Login\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavigationBar;\r\n","import { createContext } from 'react'\r\n\r\nexport const UserContext = createContext(null);\r\n","import axios from \"axios\";\r\nimport React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { Link, useHistory, Redirect, Router } from \"react-router-dom\";\r\nimport NavigationBar from \"../components/NavigationBar\";\r\nimport { UserContext } from \"../utils/UserContext\";\r\nimport Person from \"@material-ui/icons/Person\";\r\n\r\nconst Profile = () => {\r\n  const fileInput = useRef();\r\n\r\n  let history = useHistory();\r\n\r\n  const { user, setUser } = useContext(UserContext);\r\n\r\n  const [image, setImage] = useState(\"\");\r\n  const [file, setFile] = useState(\"\");\r\n\r\n  const [profile, setProfile] = useState({});\r\n  const [requests, setRequests] = useState([]);\r\n  const [notifs, setNotifs] = useState([]);\r\n\r\n  const url = \"http://localhost:5000/api/v1/profile\";\r\n  const reqsurl = \"http://localhost:5000/api/v1/requests\";\r\n  const notifsUrl = \"http://localhost:5000/api/v1/profile/notifs\";\r\n\r\n  const fileSelectedHandler = (e) => {\r\n    setFile({\r\n      selectedFile: e.target.files[0],\r\n    });\r\n  };\r\n\r\n  const uploadImage = async () => {\r\n    if (file.selectedFile !== undefined) {\r\n      const files = file.selectedFile;\r\n      const data = new FormData();\r\n      data.append(\"file\", files);\r\n      data.append(\"upload_preset\", \"prosfero\");\r\n\r\n      axios\r\n        .post(\"https://api.cloudinary.com/v1_1/drv2gra8s/image/upload\", data)\r\n        .then((res) => {\r\n          const file = res.data;\r\n          setImage(file.secure_url);\r\n          const data = { profilePicture: file.secure_url };\r\n\r\n          fetch(url, {\r\n            method: \"PUT\",\r\n            headers: {\r\n              Authorization: `Bearer ${user.token}`,\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify(data),\r\n          })\r\n            .then((res) => console.log(\"Profile updated\"))\r\n            .catch((err) => console.log(err));\r\n        })\r\n        .catch((err) => console.log(err));\r\n    } else {\r\n      alert(\"Please select an Image\");\r\n    }\r\n  };\r\n\r\n  const formatDate = (d) => {\r\n    const date = new Date(d);\r\n    var dd = date.getDate();\r\n    var mm = date.getMonth() + 1;\r\n\r\n    var yyyy = date.getFullYear();\r\n    if (dd < 10) {\r\n      dd = \"0\" + dd;\r\n    }\r\n    if (mm < 10) {\r\n      mm = \"0\" + mm;\r\n    }\r\n    return dd + \"/\" + mm + \"/\" + yyyy;\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (user.token !== null)\r\n      axios\r\n        .get(url, {\r\n          headers: {\r\n            Authorization: `Bearer ${user.token}`,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          setProfile(res.data);\r\n          setImage(res.data.profilePicture);\r\n        })\r\n        .catch((err) => alert(err));\r\n    document.body.style = \"background: #b3e0ff;\";\r\n\r\n    axios\r\n      .get(reqsurl, {\r\n        headers: {\r\n          Authorization: `Bearer ${user.token}`,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        setRequests(res.data);\r\n      })\r\n      .catch((err) => alert(err));\r\n\r\n    axios\r\n      .get(notifsUrl, {\r\n        headers: {\r\n          Authorization: `Bearer ${user.token}`,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        setNotifs(res.data);\r\n      })\r\n      .catch((err) => alert(err));\r\n  }, []);\r\n\r\n  // useEffect(() => {\r\n  //     axios.get(reqsurl,\r\n  //         {\r\n  //             headers: {\r\n  //                 'Authorization': `Bearer ${user.token}`\r\n  //             }\r\n  //          }).then( res => {\r\n  //         setRequests(res.data)\r\n  //     }).catch(\r\n  //         err => alert(err)\r\n  //     )\r\n  // }, [requests])\r\n\r\n  const approve = (e, reqData) => {\r\n    e.preventDefault();\r\n    const instance = axios.create({\r\n      baseURL: \"http://localhost:5000/api/v1\",\r\n      headers: {\r\n        Authorization: `Bearer ${user.token}`,\r\n      },\r\n    });\r\n    instance\r\n      .post(`/requests/approve/${reqData[3]}`)\r\n      .then((res) => {\r\n        alert(`The email of the approved user is: ${res.data}`);\r\n        //setRequests([])\r\n      })\r\n      .catch((err) => alert(err));\r\n  };\r\n\r\n  const decline = (e, reqData) => {\r\n    e.preventDefault();\r\n    const instance = axios.create({\r\n      baseURL: \"http://localhost:5000/api/v1\",\r\n      headers: {\r\n        Authorization: `Bearer ${user.token}`,\r\n      },\r\n    });\r\n    console.log(reqData);\r\n    instance\r\n      .post(`/requests/decline/${reqData[3]}`)\r\n      .then((res) => {\r\n        alert(\"The user's request has been declined\");\r\n        console.log(res.data);\r\n      })\r\n      .catch((err) => alert(err));\r\n  };\r\n\r\n  const closeNotif = (e, notif) => {\r\n    e.preventDefault();\r\n    const instance = axios.create({\r\n      baseURL: \"http://localhost:5000/api/v1\",\r\n      headers: {\r\n        Authorization: `Bearer ${user.token}`,\r\n      },\r\n    });\r\n    instance\r\n      .post(`/profile/notifs/${notif.requestid}`)\r\n      .then((res) => {\r\n        console.log(res.data);\r\n      })\r\n      .catch((err) => alert(err));\r\n  };\r\n\r\n  const startConversation = (receiverId) => {\r\n    const instance = axios.create({\r\n      baseURL: \"http://localhost:5000/api/v1\",\r\n      headers: {\r\n        Authorization: `Bearer ${user.token}`,\r\n      },\r\n    });\r\n\r\n    instance\r\n      .post(`/conversations`, {\r\n        senderId: user.id,\r\n        receiverId,\r\n      })\r\n      .then((res) => {\r\n        history.push(\"/chat\");\r\n      })\r\n      .catch((err) => alert(err));\r\n  };\r\n\r\n  const createReqData = (reqData) => {\r\n    if (reqData[5] === \"approved\") {\r\n      return (\r\n        <div className=\"card h-100\">\r\n          <div className=\"card-body\">\r\n            <h5 className=\"card-title\">Approved!</h5>\r\n            <p className=\"card-text\">\r\n              You approved {reqData[1]}'s request on {reqData[0]}\r\n            </p>\r\n            <p className=\"card-text\">Contact them at {reqData[4]}</p>\r\n          </div>\r\n          <button\r\n            className=\"btn btn-primary\"\r\n            onClick={() => startConversation(reqData[6])}\r\n          >\r\n            Start Conversation\r\n          </button>\r\n        </div>\r\n      );\r\n    } else if (reqData[5] === \"declined\") {\r\n    } else {\r\n      return (\r\n        <div className=\"card h-100\">\r\n          <div className=\"card-body\">\r\n            <h5 className=\"card-title\">{reqData[0]}</h5> {/*post*/}\r\n            <h5 className=\"card-title\">{reqData[1]}</h5> {/*user*/}\r\n            <p className=\"card-text\">{reqData[2]}</p> {/*text*/}\r\n          </div>\r\n          <a\r\n            href=\"#\"\r\n            class=\"btn btn-outline-success\"\r\n            onClick={(e) => approve(e, reqData)}\r\n          >\r\n            Approve\r\n          </a>\r\n          <a\r\n            href=\"#\"\r\n            class=\"btn btn-outline-danger\"\r\n            onClick={(e) => decline(e, reqData)}\r\n          >\r\n            Decline\r\n          </a>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  const createNotifs = (notif) => {\r\n    if (notif.status === \"declined\") {\r\n      return (\r\n        <div\r\n          class=\"alert alert-warning alert-dismissible fade show\"\r\n          role=\"alert\"\r\n        >\r\n          Your request on <strong>{notif.title}</strong> by{\" \"}\r\n          <strong>{notif.username}</strong> was declined\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn-close\"\r\n            data-bs-dismiss=\"alert\"\r\n            aria-label=\"Close\"\r\n            onClick={(e) => closeNotif(e, notif)}\r\n          ></button>\r\n        </div>\r\n      );\r\n    } else if (notif.status === \"approved\") {\r\n      return (\r\n        <div\r\n          class=\"alert alert-success alert-dismissible fade show\"\r\n          role=\"alert\"\r\n        >\r\n          Your request on <strong>{notif.title}</strong> by{\" \"}\r\n          <strong>{notif.username}</strong> was accepted! Check out the{\" \"}\r\n          <b>Your Requests</b> page\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn-close\"\r\n            data-bs-dismiss=\"alert\"\r\n            aria-label=\"Close\"\r\n            onClick={(e) => closeNotif(e, notif)}\r\n          ></button>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  if (!user.token || user.expired) {\r\n    return <Redirect to=\"/login\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <NavigationBar\r\n        loggedin={true}\r\n        func={() => {\r\n          localStorage.removeItem(\"prosfero-token\");\r\n          localStorage.removeItem(\"prosfero-id\");\r\n          setUser({\r\n            token: null,\r\n            id: null,\r\n          });\r\n        }}\r\n      />\r\n      <div className=\"profile-background\">\r\n        <div className=\"container profile\">\r\n          <div className=\"row\">\r\n            <div className=\"col\">\r\n              <div\r\n                className=\"text-center\"\r\n                style={{ fontFamily: \"Dancing Script\" }}\r\n              >\r\n                <h2>About you</h2>\r\n              </div>\r\n              <div className=\"profile-box text-center\">\r\n                <div>\r\n                  <h6 style={{ fontWeight: \"bold\" }}>Name</h6>\r\n                  <p>{`${profile.firstName} ${profile.lastName}`}</p>\r\n                </div>\r\n                <div>\r\n                  <h6 style={{ fontWeight: \"bold\" }}>Email</h6>\r\n                  <p>{profile.email}</p>\r\n                </div>\r\n                <div>\r\n                  <h6 style={{ fontWeight: \"bold\" }}>Date Joined</h6>\r\n                  <p>{formatDate(profile.createdAt)}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col text-center\" style={{ margin: \"1rem\" }}>\r\n              {image ? (\r\n                <img\r\n                  className=\"profile-picture\"\r\n                  src={image}\r\n                  alt=\"profile pif\"\r\n                />\r\n              ) : (\r\n                <div style={{ margin: \"3rem\" }}>\r\n                  <Person style={{ transform: \"scale(5)\" }} />\r\n                </div>\r\n              )}\r\n              <input\r\n                style={{ display: \"none\" }}\r\n                type=\"file\"\r\n                name=\"file\"\r\n                placeholder=\"Upload Profile Picture\"\r\n                onChange={fileSelectedHandler}\r\n                ref={fileInput}\r\n              />\r\n              <div\r\n                className=\"d-grid gap-2 d-md-block\"\r\n                style={{ margin: \"1rem\" }}\r\n              >\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-outline-primary btn-sm\"\r\n                  style={{ margin: \"0.25rem\" }}\r\n                  onClick={() => fileInput.current.click()}\r\n                >\r\n                  Choose Profile Picture\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-outline-primary btn-sm\"\r\n                  style={{ margin: \"0.25rem\" }}\r\n                  onClick={uploadImage}\r\n                >\r\n                  Upload\r\n                </button>\r\n              </div>\r\n              <h2 style={{ fontFamily: \"Dancing Script\", marginTop: \"1rem\" }}>\r\n                {profile.username}\r\n              </h2>\r\n            </div>\r\n            <div className=\"col\">\r\n              <div\r\n                className=\"text-center\"\r\n                style={{ fontFamily: \"Dancing Script\" }}\r\n              >\r\n                <h2>Stats</h2>\r\n              </div>\r\n              <div className=\"profile-box text-center\">\r\n                <div>\r\n                  <h6 style={{ fontWeight: \"bold\" }}>Posts</h6>\r\n                  <p>{profile.noOfPosts || 0}</p>\r\n                </div>\r\n                <div>\r\n                  <h6 style={{ fontWeight: \"bold\" }}>Requests</h6>\r\n                  <p>{requests.length}</p>\r\n                </div>\r\n                <div>\r\n                  <h6 style={{ fontWeight: \"bold\" }}>Achievement Level</h6>\r\n                  <p>{profile.achievementLevel}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div style={{ color: \"#b3e0ff\" }}>...</div>\r\n        <div className=\"container profile\">\r\n          <div className=\"text-center\" style={{ fontFamily: \"Dancing Script\" }}>\r\n            <h2>Your Notifications</h2>\r\n          </div>\r\n          {notifs && notifs.map((item) => createNotifs(item))}\r\n        </div>\r\n        <div style={{ color: \"#b3e0ff\" }}>...</div>\r\n        <div className=\"text-center\">\r\n          <Link to=\"/requests\" class=\"btn btn-primary\">\r\n            Your Requests\r\n          </Link>\r\n        </div>\r\n        <div className=\"container profile\">\r\n          <div className=\"text-center\" style={{ fontFamily: \"Dancing Script\" }}>\r\n            <h2>Incoming Requests</h2>\r\n          </div>\r\n          <div class=\"container px-4\">\r\n            <div class=\"row row-cols-1 row-cols-sm-2 row-cols-md-3 g-4 gx-5\">\r\n              {requests && requests.map((item) => createReqData(item))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useContext, useState} from 'react'\r\nimport { useHistory, Redirect } from \"react-router-dom\"\r\nimport axios from 'axios'\r\nimport { UserContext } from '../utils/UserContext'\r\nimport NavigationBar from '../components/NavigationBar'\r\n\r\nconst Login = () => {\r\n\r\n    let history = useHistory();\r\n\r\n    document.body.style = 'background: white'\r\n\r\n    const {user, setUser} = useContext(UserContext)\r\n\r\n    const url = 'http://localhost:5000/api/v1/users/login'\r\n\r\n    const [state, setState] = useState({\r\n        username: '',\r\n        password: '',\r\n    })\r\n\r\n\r\n    const change = (e) => {\r\n        const newState = {...state}\r\n        newState[e.target.name] = e.target.value\r\n        setState(newState)\r\n    }\r\n\r\n    const prescenseCheck = (data, err) => {\r\n        if(data === '') {\r\n            alert(err)\r\n            return false\r\n        }\r\n        return true\r\n    }\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (\r\n\r\n        prescenseCheck(state.username, \"Please enter the username\") &&\r\n        prescenseCheck(state.password,\"Please enter the password\")) {\r\n        \r\n        axios.post(url, {\r\n            username: state.username,\r\n            password: state.password\r\n        }\r\n        ).then(\r\n            res => {\r\n                if (res.data.error === undefined) {\r\n                    localStorage.setItem(\"prosfero-token\", res.data.token)\r\n                    localStorage.setItem(\"prosfero-id\", res.data.id)\r\n                    setUser(\r\n                        {\r\n                            token: res.data.token,\r\n                            id: res.data.id,\r\n                            expired: false\r\n                        }\r\n                        )\r\n                    history.push(\"/profile\")\r\n                } else {\r\n                    alert(res.data.error)\r\n                }\r\n            }\r\n        ).catch(\r\n            err => alert(err)\r\n        )\r\n\r\n        }\r\n\r\n        setState({\r\n            username: '',\r\n            password: '',\r\n        }\r\n    ) \r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n        {user.token !== null ? <Redirect to='profile'/> : <>\r\n        <NavigationBar loggedin={false}/>\r\n                <form className='login-form'>\r\n                    <div className='text-center'>\r\n                        <h1 id='login-title' style={{fontFamily: 'Dancing Script', fontSize: '3rem'}}>Login</h1>\r\n                    </div>\r\n                    <div className=\"mb-3\">\r\n                        <label className=\"form-label\">Username</label>\r\n                        <input type=\"text\" className=\"form-control\" name=\"username\" onChange={e => change(e)} value={state.username}/>\r\n                    \r\n                    </div>\r\n                    <div className=\"mb-3\">\r\n                        <label  className=\"form-label\">Password</label>\r\n                        <input type=\"password\" className=\"form-control\" name=\"password\" onChange={e => change(e)} value={state.password} id=\"registation-password\"/>\r\n                    </div>\r\n                    <div className='text-center'>\r\n                    <button type=\"submit\" className=\"btn btn-primary\" onClick={e => onSubmit(e)}>Login</button>\r\n                    </div>\r\n                </form> \r\n            </>\r\n        }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import { useContext, useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { UserContext } from \"../utils/UserContext\";\r\nimport NavigationBar from \"../components/NavigationBar\";\r\n\r\nconst Registration = () => {\r\n  const { setUser } = useContext(UserContext);\r\n  document.body.style = \"background: white\";\r\n\r\n  let history = useHistory();\r\n\r\n  const url = \"http://localhost:5000/api/v1/users/register\";\r\n\r\n  const [state, setState] = useState({\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    username: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const change = (e) => {\r\n    const newState = { ...state };\r\n    newState[e.target.name] = e.target.value;\r\n    setState(newState);\r\n  };\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    axios\r\n      .post(url, {\r\n        firstName: state.firstName,\r\n        lastName: state.lastName,\r\n        username: state.username,\r\n        email: state.email,\r\n        password: state.password,\r\n      })\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        alert(\"User Registered!\");\r\n        history.push(\"/login\");\r\n      })\r\n      .catch((err) => alert(err));\r\n\r\n    setState({\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      username: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    localStorage.removeItem(\"prosfero-token\");\r\n    localStorage.removeItem(\"prosfero-id\");\r\n    setUser({\r\n      token: localStorage.getItem(\"prosfero-token\"),\r\n      id: localStorage.getItem(\"prosfero-id\"),\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <NavigationBar loggedin={false} />\r\n      <form className=\"registration-form\">\r\n        <div className=\"text-center\">\r\n          <h1\r\n            id=\"registration-title\"\r\n            style={{ fontFamily: \"Dancing Script\", fontSize: \"3rem\" }}\r\n          >\r\n            Registration\r\n          </h1>\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label className=\"form-label\">First name</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            name=\"firstName\"\r\n            onChange={(e) => change(e)}\r\n            value={state.firstName}\r\n            id=\"registration-first-name\"\r\n          />\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label className=\"form-label\">Last name</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            name=\"lastName\"\r\n            onChange={(e) => change(e)}\r\n            value={state.lastName}\r\n            id=\"registration-last-name\"\r\n          />\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label className=\"form-label\">Username</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            name=\"username\"\r\n            onChange={(e) => change(e)}\r\n            value={state.username}\r\n            id=\"registration-username\"\r\n          />\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label className=\"form-label\">Email address</label>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            name=\"email\"\r\n            onChange={(e) => change(e)}\r\n            value={state.email}\r\n            id=\"registration-email\"\r\n          />\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label className=\"form-label\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            name=\"password\"\r\n            onChange={(e) => change(e)}\r\n            value={state.password}\r\n            id=\"registation-password\"\r\n          />\r\n        </div>\r\n        <div className=\"text-center\">\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn btn-primary\"\r\n            onClick={(e) => onSubmit(e)}\r\n          >\r\n            Register\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Registration;\r\n","import { useContext } from 'react'\r\nimport {Redirect, useHistory} from 'react-router-dom'\r\nimport { UserContext } from '../utils/UserContext'\r\n\r\nconst Welcome = () => {\r\n\r\n    const {user} = useContext(UserContext)\r\n    let history = useHistory()\r\n\r\n    const click = (location) => {\r\n        history.push(`${location}`)\r\n    } \r\n\r\n    if(user.token !== null) {\r\n        return <Redirect to='/profile'/>\r\n    }\r\n\r\n    return (\r\n        <div className='container-fluid main'>\r\n                <div className='text-center align-middle'>\r\n                    <h1 id='welcome-title'>Prosfero</h1>\r\n                    <p id='welcome-slogan'>Giving made easy</p>\r\n                </div>\r\n                <div className='text-center'>\r\n                    <button type=\"button\" className='btn btn-outline-primary btn-lng welcome-button' onClick={() => click('/registration')}>REGISTER</button>\r\n                    <button type=\"button\" className='btn btn-outline-success btn-lng welcome-button' onClick={() => click('/login')}>LOGIN</button>\r\n                </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Welcome\r\n","import { Redirect } from 'react-router-dom'\r\n\r\nconst WelcomeRouter = () => {\r\n\r\n    return <Redirect to='/welcome' />\r\n    \r\n}\r\n\r\nexport default WelcomeRouter\r\n","import { OpenStreetMapProvider } from \"leaflet-geosearch\";\r\n\r\nconst provider = new OpenStreetMapProvider({\r\n  params: {\r\n    countrycodes: \"sg\",\r\n  },\r\n});\r\n\r\nexport const FetchLocations = (text) => {\r\n  return provider.search({ query: `${text}` });\r\n};\r\n","import { useState, useCallback } from \"react\";\r\nimport Select from \"react-select\";\r\nimport { debounce } from \"lodash\";\r\n\r\nconst loadingMessage = \"Loading options\";\r\n\r\nconst LocationSelect = ({\r\n  defaultValue,\r\n  loading,\r\n  suggestions,\r\n  menuIsOpen,\r\n  requests,\r\n  placeholder,\r\n  onSelect,\r\n}) => {\r\n  const [inputValue, setInputValue] = useState(\"\");\r\n  const debouncedSave = useCallback(\r\n    debounce((newValue) => requests(newValue), 1000),\r\n    []\r\n  );\r\n\r\n  const updateValue = (newValue) => {\r\n    setInputValue(newValue);\r\n    debouncedSave(newValue);\r\n  };\r\n\r\n  const options = suggestions.map((sug) => {\r\n    return { value: sug.label, label: sug.label, lon: sug.x, lat: sug.y };\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <Select\r\n        value={defaultValue}\r\n        inputValue={inputValue}\r\n        onInputChange={(input) => updateValue(input)}\r\n        onChange={(object) => onSelect(object)}\r\n        isLoading={loading}\r\n        loadingMessage={() => loadingMessage}\r\n        menuIsOpen={menuIsOpen}\r\n        placeholder={placeholder}\r\n        options={options}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LocationSelect;\r\n","import { useContext, useState } from \"react\";\r\nimport { UserContext } from \"../utils/UserContext\";\r\nimport NavigationBar from \"../components/NavigationBar\";\r\nimport \"../style/CreatePost.css\";\r\nimport axios from \"axios\";\r\nimport { Redirect } from \"react-router\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { FetchLocations } from \"../utils/FetchLocations\";\r\nimport LocationSelect from \"../components/LocationSelect\";\r\n\r\nconst CreatePost = () => {\r\n  const { user, setUser } = useContext(UserContext);\r\n  const history = useHistory();\r\n  const url = \"http://localhost:5000/api/v1/posts\";\r\n  const [image, setImage] = useState({\r\n    file: null,\r\n  });\r\n\r\n  const [state, setState] = useState({\r\n    title: \"\",\r\n    category: \"\",\r\n    description: \"\",\r\n    image: \"\",\r\n  });\r\n  const [suggestions, setSuggestions] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [menuIsOpen, setMenuIsOpen] = useState(false);\r\n  const [selected, setSelected] = useState({\r\n    label: \"\",\r\n    lon: \"\",\r\n    lat: \"\",\r\n  });\r\n\r\n  const getSuggestions = async (word) => {\r\n    if (word) {\r\n      setLoading(true);\r\n      let response = await FetchLocations(word);\r\n\r\n      setSuggestions(response);\r\n      setLoading(false);\r\n      setMenuIsOpen(true);\r\n    } else {\r\n      setSuggestions([]);\r\n      setMenuIsOpen(false);\r\n    }\r\n  };\r\n\r\n  const onSelect = (object) => {\r\n    setSelected(object);\r\n  };\r\n\r\n  const fileSelectedHandler = (e) => {\r\n    setImage({\r\n      file: e.target.files[0],\r\n    });\r\n  };\r\n\r\n  const uploadImage = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (image.file !== null || image.file !== undefined) {\r\n      const files = image.file;\r\n      const data = new FormData();\r\n      data.append(\"file\", files);\r\n      data.append(\"upload_preset\", \"prosfero\");\r\n\r\n      axios\r\n        .post(\"https://api.cloudinary.com/v1_1/drv2gra8s/image/upload\", data)\r\n        .then((res) => {\r\n          const file = res.data;\r\n          const newState = { ...state };\r\n          newState[\"image\"] = file.secure_url;\r\n          setState(newState);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          alert(err);\r\n        });\r\n    } else {\r\n      alert(\"Please select an Image\");\r\n    }\r\n  };\r\n\r\n  const change = (e) => {\r\n    const newState = { ...state };\r\n    newState[e.target.name] = e.target.value;\r\n    setState(newState);\r\n  };\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    axios\r\n      .post(\r\n        url,\r\n        {\r\n          title: state.title,\r\n          desc: state.description,\r\n          category: state.category,\r\n          image: state.image,\r\n          location: {\r\n            label: selected.label,\r\n            lon: selected.lon,\r\n            lat: selected.lat,\r\n          },\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${user.token}`,\r\n          },\r\n        }\r\n      )\r\n      .then((res) => {\r\n        alert(\"Post submitted!\");\r\n        history.push(`/post/${res.data.id}`);\r\n      })\r\n      .catch((err) => alert(err));\r\n  };\r\n\r\n  if (!user.token || user.expired) {\r\n    return <Redirect to=\"/login\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <NavigationBar\r\n        loggedin={true}\r\n        func={() => {\r\n          localStorage.removeItem(\"prosfero-token\");\r\n          localStorage.removeItem(\"prosfero-id\");\r\n          setUser({\r\n            token: null,\r\n            id: null,\r\n          });\r\n        }}\r\n      />\r\n      <div className=\"form-pad\">\r\n        <form className=\"form-post\">\r\n          <div className=\"text-center\">\r\n            <h1 style={{ fontFamily: \"Dancing Script\" }}>Create Your Post</h1>\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"title\" className=\"form-label\">\r\n              Title\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              autoComplete=\"off\"\r\n              id=\"title\"\r\n              name=\"title\"\r\n              onChange={(e) => change(e)}\r\n              value={state.title}\r\n              placeholder=\"Enter the title of your post\"\r\n            />\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <select\r\n              className=\"form-select\"\r\n              name=\"category\"\r\n              value={state.category}\r\n              onChange={(e) => change(e)}\r\n              aria-label=\"choose chatergory\"\r\n            >\r\n              <option value=\"\" defaultValue disabled>\r\n                Choose category\r\n              </option>\r\n              <option value=\"Food\">Food</option>\r\n              <option value=\"Electronics\">Electronics</option>\r\n              <option value=\"Stationary\">Stationary</option>\r\n              <option value=\"Furniture\">Furniture</option>\r\n              <option value=\"Other\">Other</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"description\" className=\"form-label\">\r\n              Location\r\n            </label>\r\n            <LocationSelect\r\n              loading={loading}\r\n              requests={getSuggestions}\r\n              suggestions={suggestions}\r\n              menuIsOpen={menuIsOpen}\r\n              onSelect={onSelect}\r\n              placeholder={\"Please type in a location\"}\r\n            />\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"description\" className=\"form-label\">\r\n              Descripton of Item\r\n            </label>\r\n            <textarea\r\n              className=\"form-control\"\r\n              id=\"description\"\r\n              rows=\"3\"\r\n              name=\"description\"\r\n              onChange={(e) => change(e)}\r\n              value={state.description}\r\n            ></textarea>\r\n          </div>\r\n          <div className=\"input-group mb-3\">\r\n            <input\r\n              type=\"file\"\r\n              className=\"form-control\"\r\n              name=\"image\"\r\n              onChange={(e) => fileSelectedHandler(e)}\r\n              id=\"image\"\r\n            />\r\n            <button\r\n              className=\"input-group-text\"\r\n              htmlFor=\"image\"\r\n              onClick={(e) => uploadImage(e)}\r\n            >\r\n              Upload\r\n            </button>\r\n          </div>\r\n          {state.image && (\r\n            <div className=\"text-center\">\r\n              <img src={state.image} className=\"img-thumbnail\" alt=\"\" />\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"text-center\">\r\n            <button\r\n              type=\"submit\"\r\n              className=\"btn btn-primary\"\r\n              onClick={(e) => onSubmit(e)}\r\n            >\r\n              Submit\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CreatePost;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Card = ({ post, index }) => {\r\n  return (\r\n    <div key={index} className=\"col col-xl-3 col-lg-4 col-md-6 col-sm-12\">\r\n      <div className=\"card h-100\">\r\n        <Link to={`/post/${post.id}`}>\r\n          <img\r\n            src={post.image}\r\n            alt={post.id}\r\n            className=\"card-img-top crop\"\r\n            style={{ maxHeight: \"15rem\" }}\r\n          />\r\n        </Link>\r\n        <div className=\"card-body\">\r\n          <Link\r\n            to={`/post/${post.id}`}\r\n            style={{ textDecoration: \"none\", color: \"black\" }}\r\n          >\r\n            <h5 className=\"card-title\">{post.title}</h5>\r\n          </Link>\r\n          <small className=\"text-muted\">{post.category}</small>\r\n          <hr />\r\n          <p className=\"card-text\">{post.desc}</p>\r\n        </div>\r\n        <div className=\"card-footer\">\r\n          <small>{post.username}</small>\r\n          <br />\r\n          <small className=\"text-muted\">\r\n            {new Date(post.createdAt).toUTCString()}\r\n          </small>\r\n          <hr />\r\n          <small>{post.location?.label}</small>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import { useState } from \"react\";\r\n\r\nconst CATEGORIES = [\r\n  {\r\n    _id: \"1\",\r\n    name: \"Food\",\r\n  },\r\n  {\r\n    _id: \"2\",\r\n    name: \"Electronics\",\r\n  },\r\n  {\r\n    _id: \"3\",\r\n    name: \"Stationary\",\r\n  },\r\n  {\r\n    _id: \"4\",\r\n    name: \"Furniture\",\r\n  },\r\n  {\r\n    _id: \"5\",\r\n    name: \"Other\",\r\n  },\r\n];\r\n\r\nconst Filter = ({ handleFilters, handleOrder, customStyle }) => {\r\n  const [checked, setChecked] = useState([]);\r\n  const [sortOrder, setSortOrder] = useState({\r\n    value: \"1\",\r\n    id: \"latest\",\r\n  });\r\n\r\n  const handleRadio = (e) => {\r\n    const newOrder = {\r\n      value: e.target.value,\r\n      id: e.target.id,\r\n    };\r\n    setSortOrder(newOrder);\r\n    handleOrder(newOrder);\r\n  };\r\n\r\n  const handleChange = (val) => {\r\n    const currentIndex = checked.indexOf(val);\r\n    const newChecked = [...checked];\r\n    if (currentIndex === -1) {\r\n      newChecked.push(val);\r\n    } else {\r\n      newChecked.splice(currentIndex, 1);\r\n    }\r\n\r\n    setChecked(newChecked);\r\n    handleFilters(newChecked);\r\n  };\r\n\r\n  const renderCheckbox = () => {\r\n    return CATEGORIES.map((cat) => {\r\n      return (\r\n        <div className=\"form-check form-check-inline\" key={cat._id}>\r\n          <input\r\n            className=\"form-check-input \"\r\n            type=\"checkbox\"\r\n            id={cat._id}\r\n            checked={checked.includes(cat.name)}\r\n            onChange={() => handleChange(cat.name)}\r\n          />\r\n          <label className=\"form-check-label\" htmlFor={cat._id}>\r\n            {cat.name}\r\n          </label>\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div style={customStyle}>\r\n      <button\r\n        className=\"btn btn-primary\"\r\n        type=\"button\"\r\n        data-bs-toggle=\"collapse\"\r\n        data-bs-target=\"#filter\"\r\n        aria-expanded=\"false\"\r\n        aria-controls=\"filter\"\r\n        style={{ marginBottom: \"1rem\" }}\r\n      >\r\n        {\"Filter & Sort\"}\r\n      </button>\r\n      <div className=\"collapse\" id=\"filter\" style={{ marginBottom: \"1rem\" }}>\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n            <div className=\"card\">\r\n              <div className=\"card-header\">Filter by Category</div>\r\n              <div className=\"card-body\">{renderCheckbox()}</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-6\">\r\n            <div className=\"card\" s>\r\n              <div className=\"card-header\">Sort Posts</div>\r\n              <div\r\n                className=\"card-body text-center\"\r\n                style={{ paddingBottom: \"0rem\" }}\r\n              >\r\n                <div\r\n                  className=\"btn-group\"\r\n                  role=\"group\"\r\n                  style={{ margin: \"0rem\", padding: \"0rem\" }}\r\n                >\r\n                  <input\r\n                    type=\"radio\"\r\n                    className=\"btn-check\"\r\n                    name=\"btnradio\"\r\n                    id=\"latest\"\r\n                    autocomplete=\"off\"\r\n                    value=\"1\"\r\n                    checked={sortOrder.value === \"1\"}\r\n                    onChange={handleRadio}\r\n                  />\r\n                  <label className=\"btn btn-outline-primary\" for=\"latest\">\r\n                    Latest Posts first\r\n                  </label>\r\n\r\n                  <input\r\n                    type=\"radio\"\r\n                    className=\"btn-check\"\r\n                    name=\"btnradio\"\r\n                    id=\"oldest\"\r\n                    value=\"-1\"\r\n                    autocomplete=\"off\"\r\n                    checked={sortOrder.value === \"-1\"}\r\n                    onChange={handleRadio}\r\n                  />\r\n                  <label className=\"btn btn-outline-primary\" for=\"oldest\">\r\n                    Oldest Posts first\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import { useContext, useState, useEffect, useRef } from \"react\";\r\nimport { UserContext } from \"../utils/UserContext\";\r\nimport NavigationBar from \"../components/NavigationBar\";\r\nimport \"../style/CreatePost.css\";\r\nimport axios from \"axios\";\r\nimport { Redirect } from \"react-router\";\r\nimport \"../style/Home.css\";\r\nimport Card from \"../components/Card\";\r\nimport Filter from \"../components/Filter\";\r\n\r\nconst LIMIT = 8;\r\nconst BASE_URL = \"http://localhost:5000/api/v1/posts\";\r\n\r\nconst Home = () => {\r\n  const { user, setUser } = useContext(UserContext);\r\n  const [more, setMore] = useState(true);\r\n  const [loading, setLoading] = useState(false);\r\n  const [state, setState] = useState([]);\r\n  const [skip, setSkip] = useState(0);\r\n  const [element, setElement] = useState(null);\r\n  const [filters, setFilters] = useState([]);\r\n  const [filteredList, setFilteredList] = useState([]);\r\n  const [sortOrder, setSortOder] = useState({\r\n    value: \"1\",\r\n    id: \"latest\",\r\n  });\r\n\r\n  const fetchData = () => {\r\n    const instance = axios.create({\r\n      baseURL: BASE_URL,\r\n      headers: {\r\n        Authorization: `Bearer ${user.token}`,\r\n      },\r\n    });\r\n\r\n    instance\r\n      .get(`/limited/${LIMIT}/${skip}`, {\r\n        params: {\r\n          order: parseInt(sortOrder.value),\r\n        },\r\n      })\r\n      .then((res) => {\r\n        if (res.data.length < 8) {\r\n          setMore(false);\r\n        }\r\n        setState([...state, ...res.data]);\r\n        setSkip(skip + LIMIT);\r\n        setLoading(false);\r\n        showResults(filters);\r\n      })\r\n      .catch((err) => alert(err));\r\n  };\r\n\r\n  const loader = useRef(fetchData);\r\n\r\n  const observer = useRef(\r\n    new IntersectionObserver(\r\n      (entries) => {\r\n        const first = entries[0];\r\n\r\n        if (first.isIntersecting) {\r\n          setLoading(true);\r\n          loader.current();\r\n        }\r\n      },\r\n      { rootMargin: \"50px\", threshold: 0.25 }\r\n    )\r\n  );\r\n\r\n  useEffect(() => {\r\n    loader.current = fetchData;\r\n  }, [fetchData]);\r\n\r\n  useEffect(() => {\r\n    const currentElement = element;\r\n    const currentObserver = observer.current;\r\n\r\n    if (currentElement) {\r\n      currentObserver.observe(currentElement);\r\n    }\r\n\r\n    return () => {\r\n      if (currentElement) {\r\n        currentObserver.unobserve(currentElement);\r\n      }\r\n    };\r\n  }, [element]);\r\n\r\n  const showResults = (fil) => {\r\n    if (fil.length > 0) {\r\n      setFilteredList(state.filter((post) => fil.includes(post.category)));\r\n    } else {\r\n      setFilteredList(state);\r\n    }\r\n  };\r\n\r\n  const handleFilters = (fil) => {\r\n    const newFilters = fil;\r\n    showResults(newFilters);\r\n    setFilters(newFilters);\r\n  };\r\n\r\n  const handleOrder = (order) => {\r\n    if (order.value !== setSortOder.value) {\r\n      setSortOder(order);\r\n      setLoading(false);\r\n      setMore(true);\r\n      setSkip(0);\r\n      setState([]);\r\n      setFilteredList([]);\r\n    }\r\n  };\r\n\r\n  if (!user.token || user.expired) {\r\n    return <Redirect to=\"/login\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <NavigationBar\r\n        loggedin={true}\r\n        func={() => {\r\n          localStorage.removeItem(\"prosfero-token\");\r\n          localStorage.removeItem(\"prosfero-id\");\r\n          setUser({\r\n            token: null,\r\n            id: null,\r\n          });\r\n        }}\r\n      />\r\n      <div className=\"container\" style={{ marginTop: \"1rem\" }}>\r\n        <div\r\n          className=\"title text-center\"\r\n          style={{ fontFamily: \"Dancing Script\", fontWeight: \"bold\" }}\r\n        >\r\n          <h1>Listings</h1>\r\n        </div>\r\n        <div className=\"filter\">\r\n          <Filter\r\n            handleFilters={(filters) => handleFilters(filters, \"Category\")}\r\n            handleOrder={handleOrder}\r\n            customStyle={filteredList.length === 0 ? { display: \"none\" } : {}}\r\n          />\r\n        </div>\r\n        <div\r\n          className=\"col row row-cols-1 row-cols-sm-2 row-cols-md-4 g-4\"\r\n          id=\"post-container\"\r\n        >\r\n          {filteredList.length > 0 &&\r\n            filteredList.map((post, index) => (\r\n              <Card post={post} index={index} />\r\n            ))}\r\n\r\n          {!loading && more ? (\r\n            <div ref={setElement} style={{ padding: \"2rem\" }}></div>\r\n          ) : (\r\n            <div id=\"footer\" style={{ padding: \"1rem\" }}>\r\n              {\" \"}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport { Redirect } from \"react-router\";\r\nimport { UserContext } from \"../utils/UserContext\";\r\nimport { useParams, useHistory, Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport NavigationBar from \"../components/NavigationBar\";\r\nimport \"../style/Post.css\";\r\n\r\nconst Post = () => {\r\n  const { user, setUser } = useContext(UserContext);\r\n\r\n  const history = useHistory();\r\n\r\n  const { postId } = useParams();\r\n\r\n  const [state, setState] = useState({\r\n    text: \"\",\r\n  });\r\n\r\n  const change = (e) => {\r\n    const newState = { ...state };\r\n    newState[e.target.name] = e.target.value;\r\n    setState(newState);\r\n  };\r\n\r\n  const formUrl = `http://localhost:5000/api/v1/posts/requests/${postId}`;\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    axios\r\n      .post(\r\n        formUrl,\r\n        {\r\n          text: state.text,\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${user.token}`,\r\n          },\r\n        }\r\n      )\r\n      .then((res) => {\r\n        alert(\"Request submitted!\");\r\n      })\r\n      .catch((err) => {\r\n        err.response && alert(err.response.data);\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const [showForm, setShowForm] = useState(false);\r\n\r\n  const url = `http://localhost:5000/api/v1/posts/single/${postId}`;\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(url, {\r\n        headers: {\r\n          Authorization: `Bearer ${user.token}`,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        setState(res.data);\r\n      })\r\n      .catch((err) => {\r\n        alert(err);\r\n        history.push(\"/home\");\r\n      });\r\n  }, []);\r\n\r\n  if (!user.token || user.expired) {\r\n    return <Redirect to=\"/login\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <NavigationBar\r\n        loggedin={true}\r\n        func={() => {\r\n          localStorage.removeItem(\"prosfero-token\");\r\n          localStorage.removeItem(\"prosfero-id\");\r\n          setUser({\r\n            token: null,\r\n            id: null,\r\n          });\r\n        }}\r\n      />\r\n\r\n      <div className=\"post\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col content\">\r\n              <div className=\"text-center\">\r\n                <img\r\n                  src={state.image}\r\n                  style={{ maxWidth: \"20rem\", maxHeight: \"20rem\" }}\r\n                  className=\"img-thumbnail\"\r\n                  alt={state.title}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"col info-box\">\r\n              <h1 style={{ fontWeight: \"bold\", marginBottom: \"1rem\" }}>\r\n                {state.title}\r\n              </h1>\r\n              <h5>Posted by: {state.username}</h5>\r\n              <hr />\r\n              <p>{state.desc}</p>\r\n              <p>\r\n                <strong>Location:</strong> <br />\r\n                {state.location?.label}\r\n              </p>\r\n              <hr />\r\n              <p>Category: {state.category}</p>\r\n              <p>Created at: {new Date(state.createdAt).toUTCString()}</p>\r\n              <div className=\"text-center\">\r\n                {console.log(user.id, state.userid)}\r\n                {state.userid === user.id ? (\r\n                  <Link class=\"btn btn-primary\" to={`/editpost/${postId}`}>\r\n                    Edit\r\n                  </Link>\r\n                ) : (\r\n                  <div\r\n                    class=\"btn btn-primary\"\r\n                    onClick={() => setShowForm(!showForm)}\r\n                  >\r\n                    Request\r\n                  </div>\r\n                )}\r\n                {showForm && (\r\n                  <div className=\"mb-3\">\r\n                    <label htmlFor=\"text\" className=\"form-label\">\r\n                      Text\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      id=\"text\"\r\n                      name=\"text\"\r\n                      autoComplete=\"off\"\r\n                      onChange={(e) => change(e)}\r\n                      value={state.text}\r\n                      placeholder=\"(Optional) Enter request text\"\r\n                    />\r\n                    <div className=\"text-center\"></div>\r\n                    <button\r\n                      type=\"submit\"\r\n                      className=\"btn btn-primary\"\r\n                      onClick={(e) => onSubmit(e)}\r\n                    >\r\n                      Submit\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import { useContext, useState, useEffect } from \"react\";\r\nimport { UserContext } from \"../utils/UserContext\";\r\nimport NavigationBar from \"../components/NavigationBar\";\r\nimport \"../style/CreatePost.css\";\r\nimport axios from \"axios\";\r\nimport { Redirect } from \"react-router\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport LocationSelect from \"../components/LocationSelect\";\r\nimport { FetchLocations } from \"../utils/FetchLocations\";\r\n\r\nconst EditPost = () => {\r\n  const { postId } = useParams();\r\n\r\n  const url = `http://localhost:5000/api/v1/posts/single/${postId}`;\r\n  const editURL = `http://localhost:5000/api/v1/posts/${postId}`;\r\n\r\n  const [state, setState] = useState(\"\");\r\n  const [suggestions, setSuggestions] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [menuIsOpen, setMenuIsOpen] = useState(false);\r\n\r\n  const getSuggestions = async (word) => {\r\n    if (word) {\r\n      setLoading(true);\r\n      let response = await FetchLocations(word);\r\n      setSuggestions(response);\r\n      setLoading(false);\r\n      setMenuIsOpen(true);\r\n    } else {\r\n      setSuggestions([]);\r\n      setMenuIsOpen(false);\r\n    }\r\n  };\r\n\r\n  const onSelect = (object) => {\r\n    const newState = { ...state };\r\n    newState[\"location\"] = {\r\n      label: object.label,\r\n      lon: object.lon,\r\n      lan: object.lan,\r\n    };\r\n    setState(newState);\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(url, {\r\n        headers: {\r\n          Authorization: `Bearer ${user.token}`,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        if (res.data.userid !== user.id) {\r\n          alert(\"Unathorized\");\r\n          history.push(\"/home\");\r\n        }\r\n        setState(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        alert(err);\r\n        history.push(\"/home\");\r\n      });\r\n  }, []);\r\n\r\n  const { user, setUser } = useContext(UserContext);\r\n  const history = useHistory();\r\n\r\n  const [image, setImage] = useState({\r\n    file: null,\r\n  });\r\n\r\n  const fileSelectedHandler = (e) => {\r\n    setImage({\r\n      file: e.target.files[0],\r\n    });\r\n  };\r\n\r\n  const uploadImage = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (image.file !== null || image.file !== undefined) {\r\n      const files = image.file;\r\n      const data = new FormData();\r\n      data.append(\"file\", files);\r\n      data.append(\"upload_preset\", \"prosfero\");\r\n\r\n      axios\r\n        .post(\"https://api.cloudinary.com/v1_1/drv2gra8s/image/upload\", data)\r\n        .then((res) => {\r\n          const file = res.data;\r\n          const newState = { ...state };\r\n          newState[\"image\"] = file.secure_url;\r\n          setState(newState);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          alert(err);\r\n        });\r\n    } else {\r\n      alert(\"Please select an Image\");\r\n    }\r\n  };\r\n\r\n  const change = (e) => {\r\n    const newState = { ...state };\r\n    newState[e.target.name] = e.target.value;\r\n    setState(newState);\r\n  };\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    axios\r\n      .put(\r\n        editURL,\r\n        {\r\n          title: state.title,\r\n          desc: state.desc,\r\n          category: state.category,\r\n          image: state.image,\r\n          location: state.location,\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${user.token}`,\r\n          },\r\n        }\r\n      )\r\n      .then((res) => {\r\n        alert(\"Post updated!\");\r\n        history.push(`/post/${postId}`);\r\n      })\r\n      .catch((err) => alert(err));\r\n  };\r\n\r\n  if (!user.token || user.expired) {\r\n    return <Redirect to=\"/login\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <NavigationBar\r\n        loggedin={true}\r\n        func={() => {\r\n          localStorage.removeItem(\"prosfero-token\");\r\n          localStorage.removeItem(\"prosfero-id\");\r\n          setUser({\r\n            token: null,\r\n            id: null,\r\n          });\r\n        }}\r\n      />\r\n      <div className=\"form-pad\">\r\n        <form className=\"form-post\">\r\n          <div className=\"text-center\">\r\n            <h1 style={{ fontFamily: \"Dancing Script\" }}>Edit Post</h1>\r\n          </div>\r\n          <h3>Title: {state.title}</h3>\r\n          <div className=\"mb-3\">\r\n            <select\r\n              className=\"form-select\"\r\n              name=\"category\"\r\n              value={state.category}\r\n              onChange={(e) => change(e)}\r\n              aria-label=\"choose chatergory\"\r\n            >\r\n              <option value=\"\" disabled>\r\n                Choose category\r\n              </option>\r\n              <option value=\"Food\">Food</option>\r\n              <option value=\"Electronics\">Electronics</option>\r\n              <option value=\"Stationary\">Stationary</option>\r\n              <option value=\"Furniture\">Furniture</option>\r\n              <option value=\"Other\">Other</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"description\" className=\"form-label\">\r\n              Location\r\n            </label>\r\n            <LocationSelect\r\n              defaultValue={state.location}\r\n              loading={loading}\r\n              requests={getSuggestions}\r\n              suggestions={suggestions}\r\n              menuIsOpen={menuIsOpen}\r\n              onSelect={onSelect}\r\n              placeholder={\"Please type in a location\"}\r\n            />\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"description\" className=\"form-label\">\r\n              Descripton of Item\r\n            </label>\r\n            <textarea\r\n              className=\"form-control\"\r\n              id=\"description\"\r\n              rows=\"3\"\r\n              name=\"desc\"\r\n              onChange={(e) => change(e)}\r\n              value={state.desc}\r\n            ></textarea>\r\n          </div>\r\n          <div className=\"input-group mb-3\">\r\n            <input\r\n              type=\"file\"\r\n              className=\"form-control\"\r\n              name=\"image\"\r\n              onChange={(e) => fileSelectedHandler(e)}\r\n              id=\"image\"\r\n            />\r\n            <button\r\n              className=\"input-group-text\"\r\n              htmlFor=\"image\"\r\n              onClick={(e) => uploadImage(e)}\r\n            >\r\n              Upload\r\n            </button>\r\n          </div>\r\n          {state.image && (\r\n            <div className=\"text-center\">\r\n              <img\r\n                src={state.image}\r\n                className=\"img-thumbnail\"\r\n                alt={state.title}\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"text-center\">\r\n            <button\r\n              type=\"submit\"\r\n              className=\"btn btn-primary\"\r\n              onClick={(e) => onSubmit(e)}\r\n            >\r\n              Update\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditPost;\r\n","import { useContext, useState, useEffect, useRef } from \"react\";\r\nimport { UserContext } from \"../utils/UserContext\";\r\nimport NavigationBar from \"../components/NavigationBar\";\r\nimport \"../style/CreatePost.css\";\r\nimport axios from \"axios\";\r\nimport { Redirect } from \"react-router\";\r\nimport Card from \"./../components/Card\";\r\nimport Filter from \"../components/Filter\";\r\nimport \"../style/Home.css\";\r\n\r\nconst LIMIT = 8;\r\nconst BASE_URL = \"http://localhost:5000/api/v1/posts\";\r\n\r\nconst Search = () => {\r\n  const { user, setUser } = useContext(UserContext);\r\n  const [more, setMore] = useState(true);\r\n  const [loading, setLoading] = useState(false);\r\n  const [state, setState] = useState([]);\r\n  const [skip, setSkip] = useState(0);\r\n  const [element, setElement] = useState(null);\r\n  const [filters, setFilters] = useState([]);\r\n  const [filteredList, setFilteredList] = useState([]);\r\n  const [sortOrder, setSortOder] = useState({\r\n    value: \"1\",\r\n    id: \"latest\",\r\n  });\r\n\r\n  const params = new URLSearchParams(document.location.search.substring(1));\r\n  const query = params.get(\"q\");\r\n\r\n  const fetchData = () => {\r\n    const instance = axios.create({\r\n      baseURL: BASE_URL,\r\n      headers: {\r\n        Authorization: `Bearer ${user.token}`,\r\n      },\r\n    });\r\n\r\n    instance\r\n      .get(`/filter`, {\r\n        params: {\r\n          q: query,\r\n          limit: LIMIT,\r\n          skip: skip,\r\n          order: parseInt(sortOrder.value),\r\n        },\r\n      })\r\n      .then((res) => {\r\n        if (res.data.length < 8) {\r\n          console.log(res.data);\r\n          setMore(false);\r\n        }\r\n        const newState = [...state, ...res.data];\r\n        setState(newState);\r\n        setSkip(skip + LIMIT);\r\n        setLoading(false);\r\n        showResults(filters, newState);\r\n      })\r\n      .catch((err) => alert(err));\r\n  };\r\n\r\n  const loader = useRef(fetchData);\r\n\r\n  const observer = useRef(\r\n    new IntersectionObserver(\r\n      (entries) => {\r\n        const first = entries[0];\r\n\r\n        if (first.isIntersecting) {\r\n          setLoading(true);\r\n          loader.current();\r\n        }\r\n      },\r\n      { rootMargin: \"50px\", threshold: 0.25 }\r\n    )\r\n  );\r\n\r\n  useEffect(() => {\r\n    setState([]);\r\n    setFilteredList([]);\r\n    setSkip(0);\r\n    setMore(true);\r\n    setLoading(false);\r\n  }, [query]);\r\n\r\n  useEffect(() => {\r\n    loader.current = fetchData;\r\n  }, [fetchData]);\r\n\r\n  useEffect(() => {\r\n    const currentElement = element;\r\n    const currentObserver = observer.current;\r\n\r\n    if (currentElement) {\r\n      currentObserver.observe(currentElement);\r\n    }\r\n\r\n    return () => {\r\n      if (currentElement) {\r\n        currentObserver.unobserve(currentElement);\r\n      }\r\n    };\r\n  }, [element]);\r\n\r\n  if (!user.token || user.expired) {\r\n    return <Redirect to=\"/login\" />;\r\n  }\r\n\r\n  const showResults = (fil, list) => {\r\n    if (fil.length > 0) {\r\n      setFilteredList(list.filter((post) => fil.includes(post.category)));\r\n    } else {\r\n      setFilteredList(list);\r\n    }\r\n  };\r\n\r\n  const handleFilters = (fil) => {\r\n    const newFilters = fil;\r\n    showResults(newFilters, state);\r\n    setFilters(newFilters);\r\n  };\r\n\r\n  const handleOrder = (order) => {\r\n    if (order.value !== setSortOder.value) {\r\n      setSortOder(order);\r\n      setSkip(0);\r\n      setState([]);\r\n      setFilteredList([]);\r\n      setLoading(false);\r\n      setMore(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <NavigationBar\r\n        loggedin={true}\r\n        func={() => {\r\n          localStorage.removeItem(\"prosfero-token\");\r\n          localStorage.removeItem(\"prosfero-id\");\r\n          setUser({\r\n            token: null,\r\n            id: null,\r\n          });\r\n        }}\r\n      />\r\n      <div className=\"container\" style={{ marginTop: \"1rem\" }}>\r\n        <div style={{ fontWeight: \"bold\", paddingBottom: \"1rem\" }}>\r\n          <h2>Search Results for \"{query}\"</h2>\r\n        </div>\r\n        <div className=\"filter\">\r\n          <Filter\r\n            handleFilters={(filters) => handleFilters(filters)}\r\n            handleOrder={handleOrder}\r\n            customStyle={filteredList.length === 0 ? { display: \"none\" } : {}}\r\n          />\r\n        </div>\r\n        {filteredList.length > 0 ? (\r\n          <>\r\n            <div\r\n              className=\"row row-cols-1 row-cols-sm-2 row-cols-md-4 g-4\"\r\n              id=\"post-container\"\r\n            >\r\n              {filteredList.map((post, index) => (\r\n                <Card post={post} index={index} />\r\n              ))}\r\n            </div>\r\n          </>\r\n        ) : (\r\n          `Your search \"${query}\" did not match any listings.`\r\n        )}\r\n\r\n        {!loading && more ? (\r\n          <div ref={setElement} style={{ padding: \"2rem\" }}></div>\r\n        ) : (\r\n          <div id=\"footer\" style={{ padding: \"1rem\" }}>\r\n            {\" \"}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Person from \"@material-ui/icons/Person\";\r\nimport \"./../style/Conversation.css\";\r\n\r\nconst Conversation = ({ conversation, currentUser, onCustomClick }) => {\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const friendId = conversation.members.find((m) => m !== currentUser.id);\r\n\r\n    const getUser = async () => {\r\n      try {\r\n        const res = await axios.get(\r\n          `http://localhost:5000/api/v1/profile/data/${friendId}`,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${currentUser.token}`,\r\n            },\r\n          }\r\n        );\r\n        setUser(res.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getUser();\r\n  }, [currentUser, conversation]);\r\n\r\n  return (\r\n    <div className=\"conversation\" onClick={() => onCustomClick(user.username)}>\r\n      {user?.profilePicture ? (\r\n        <img className=\"conversationImg\" src={user.profilePicture} alt=\"\" />\r\n      ) : (\r\n        <Person className=\"conversationImg\" />\r\n      )}\r\n      <span className=\"conversationName\">{user?.username}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Conversation;\r\n","import { format } from \"timeago.js\";\r\nimport \"./../style/Message.css\";\r\n\r\nconst Message = ({ message, own }) => {\r\n  return (\r\n    <div className={own ? \"message own\" : \"message\"}>\r\n      <div className=\"message-cover\">\r\n        <div className=\"message-text\">{message.text}</div>\r\n      </div>\r\n      <div className=\"message-meta\">{format(message.createdAt)}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import axios from \"axios\";\r\nimport { useContext, useState, useEffect, useRef } from \"react\";\r\nimport { Redirect } from \"react-router\";\r\nimport Conversation from \"../components/Conversation\";\r\nimport Message from \"../components/Message\";\r\nimport NavigationBar from \"../components/NavigationBar\";\r\nimport { UserContext } from \"../utils/UserContext\";\r\nimport { io } from \"socket.io-client\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport ExpandLessIcon from \"@material-ui/icons/ExpandLess\";\r\nimport \"./../style/Chat.css\";\r\n\r\nconst Chat = () => {\r\n  const { user, setUser } = useContext(UserContext);\r\n  const [conversations, setConversations] = useState([]);\r\n  const [currentChat, setCurrentChat] = useState(null);\r\n  const [messages, setMessages] = useState([]);\r\n  const [newMessage, setNewMessage] = useState(\"\");\r\n  const [arrivalMessage, setArrivalMessage] = useState(null);\r\n  const scrollRef = useRef();\r\n  const [chatUsername, setChatUsername] = useState(\"\");\r\n  const [expanded, setExpanded] = useState(true);\r\n  const socket = useRef();\r\n\r\n  useEffect(() => {\r\n    const setExpandValue = () => {\r\n      if (window.innerWidth > 992) {\r\n        setExpanded(true);\r\n      } else {\r\n        setExpanded(false);\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"resize\", setExpandValue);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    socket.current = io(\"ws://localhost:8900\");\r\n    socket.current.on(\"getMessage\", (data) => {\r\n      setArrivalMessage({\r\n        sender: data.senderId,\r\n        text: data.text,\r\n        createdAt: Date.now(),\r\n      });\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    arrivalMessage &&\r\n      currentChat?.members.includes(arrivalMessage.sender) &&\r\n      setMessages((prev) => [...prev, arrivalMessage]);\r\n  }, [arrivalMessage]);\r\n\r\n  useEffect(() => {\r\n    socket.current.emit(\"addUser\", user.id);\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    const getConversations = async () => {\r\n      try {\r\n        const res = await axios.get(\r\n          `http://localhost:5000/api/v1/conversations/${user.id}`,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${user.token}`,\r\n            },\r\n          }\r\n        );\r\n        setConversations(res.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getConversations();\r\n  }, [user.id]);\r\n\r\n  useEffect(() => {\r\n    const getMessages = async () => {\r\n      try {\r\n        const res = await axios.get(\r\n          `http://localhost:5000/api/v1/messages/${currentChat?._id}`,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${user.token}`,\r\n            },\r\n          }\r\n        );\r\n        setMessages(res.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getMessages();\r\n  }, [currentChat]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const message = {\r\n      sender: user.id,\r\n      text: newMessage,\r\n      conversationId: currentChat._id,\r\n    };\r\n\r\n    const recieverId = currentChat.members.find((member) => member !== user.id);\r\n\r\n    socket.current.emit(\"sendMessage\", {\r\n      senderId: user.id,\r\n      recieverId,\r\n      text: newMessage,\r\n    });\r\n\r\n    try {\r\n      const instance = axios.create({\r\n        baseURL: `http://localhost:5000/api/v1/messages`,\r\n        headers: { Authorization: `Bearer ${user.token}` },\r\n      });\r\n      const res = await instance.post(``, message);\r\n      setMessages([...messages, res.data]);\r\n      setNewMessage(\"\");\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  }, [messages]);\r\n\r\n  if (!user.token || user.expired) {\r\n    return <Redirect to=\"/login\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <NavigationBar\r\n        loggedin={true}\r\n        func={() => {\r\n          localStorage.removeItem(\"prosfero-token\");\r\n          localStorage.removeItem(\"prosfero-id\");\r\n          setUser({\r\n            token: null,\r\n            id: null,\r\n          });\r\n        }}\r\n      />\r\n      <div className=\"container\" style={{ margin: \"auto\", padding: \"1rem\" }}>\r\n        <div className=\"chat row\">\r\n          <div\r\n            className=\"col-lg-3 xcxcsidebar\"\r\n            style={{\r\n              backgroundColor: \"#e6f5ff\",\r\n              borderRadius: \"1rem\",\r\n              padding: \"1rem\",\r\n            }}\r\n          >\r\n            <div className=\"container\">\r\n              <div className=\"row\">\r\n                <div className=\"col\">\r\n                  <h3>Conversations</h3>\r\n                </div>\r\n                {expanded ? (\r\n                  <div className=\"col-3 toggle-wrapper\">\r\n                    <ExpandLessIcon\r\n                      className=\"chat-toggle\"\r\n                      onClick={() => setExpanded((prev) => !prev)}\r\n                    />\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"col-3 toggle-wrapper\">\r\n                    <ExpandMoreIcon\r\n                      className=\"chat-toggle\"\r\n                      onClick={() => setExpanded((prev) => !prev)}\r\n                    />\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <hr />\r\n            <div\r\n              className=\"toggleConversation\"\r\n              style={{ display: !expanded && \"none\" }}\r\n            >\r\n              {conversations.map((c) => {\r\n                return (\r\n                  <div\r\n                    key={c._id}\r\n                    onClick={() => {\r\n                      setCurrentChat(c);\r\n                    }}\r\n                  >\r\n                    <Conversation\r\n                      conversation={c}\r\n                      currentUser={user}\r\n                      onCustomClick={(name) => setChatUsername(name)}\r\n                    />\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n          <div className=\"col cxcxchatbox\">\r\n            {chatUsername !== \"\" && (\r\n              <>\r\n                <h3 style={{ paddingTop: \"1rem\" }}>{chatUsername}</h3>\r\n                <hr />\r\n              </>\r\n            )}\r\n\r\n            <div className=\"chatbox-wrapper\">\r\n              {currentChat ? (\r\n                <>\r\n                  <div className=\"chat-window\">\r\n                    {messages.length === 0 && (\r\n                      <div\r\n                        className=\"text-center\"\r\n                        style={{ marginTop: \"2rem\" }}\r\n                      >\r\n                        <span className=\"text-muted\">No messages yet</span>\r\n                      </div>\r\n                    )}\r\n                    {messages.map((m) => {\r\n                      return (\r\n                        <div ref={scrollRef} key={m._id}>\r\n                          <Message message={m} own={m.sender === user.id} />\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                  <div className=\"chat-input\">\r\n                    <textarea\r\n                      className=\"chat-input-textarea\"\r\n                      rows=\"3\"\r\n                      value={newMessage}\r\n                      onChange={(e) => setNewMessage(e.target.value)}\r\n                    />\r\n                    <div className=\"button-wrapper\">\r\n                      <button\r\n                        className=\"chat-input-button btn btn-primary\"\r\n                        onClick={handleSubmit}\r\n                      >\r\n                        Send\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                <div\r\n                  className=\"text-center\"\r\n                  style={{\r\n                    fontSize: \"3rem\",\r\n                    color: \"lightgrey\",\r\n                    marginTop: \"6rem\",\r\n                    height: \"65vh\",\r\n                  }}\r\n                >\r\n                  <span>Open a conversation to start a chart</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n","import axios from \"axios\";\r\nimport React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { Redirect, useHistory } from \"react-router-dom\";\r\nimport { UserContext } from \"../utils/UserContext\";\r\nimport NavigationBar from \"../components/NavigationBar\";\r\n\r\nconst YourRequests = () => {\r\n  const [requests, setRequests] = useState([\"\"]);\r\n  const { user, setUser } = useContext(UserContext);\r\n  let history = useHistory();\r\n\r\n  const url = \"http://localhost:5000/api/v1/requests\";\r\n\r\n  useEffect(() => {\r\n    if (user.token !== null) {\r\n      const instance = axios.create({\r\n        baseURL: url,\r\n        headers: {\r\n          Authorization: `Bearer ${user.token}`,\r\n        },\r\n      });\r\n\r\n      instance\r\n        .post(\"\", {\r\n          headers: {\r\n            Authorization: `Bearer ${user.token}`,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          setRequests(res.data);\r\n          console.log(\"requests: \", res);\r\n        })\r\n        .catch((err) => alert(err));\r\n    }\r\n  }, []);\r\n\r\n  if (!user.token || user.expired) {\r\n    return <Redirect to=\"/login\" />;\r\n  }\r\n\r\n  const success = (e, reqData) => {\r\n    e.preventDefault();\r\n    const instance = axios.create({\r\n      baseURL: \"http://localhost:5000/api/v1\",\r\n      headers: {\r\n        Authorization: `Bearer ${user.token}`,\r\n      },\r\n    });\r\n    instance\r\n      .post(`/requests/success/${reqData[5]}`)\r\n      .then(alert(\"Congatulations!\"));\r\n  };\r\n\r\n  const fail = (e, reqData) => {\r\n    e.preventDefault();\r\n    const instance = axios.create({\r\n      baseURL: \"http://localhost:5000/api/v1\",\r\n      headers: {\r\n        Authorization: `Bearer ${user.token}`,\r\n      },\r\n    });\r\n    instance.post(`/requests/fail/${reqData[6]}`).then(alert(\"Oh wells :(\"));\r\n  };\r\n\r\n  const startConversation = (receiverId) => {\r\n    const instance = axios.create({\r\n      baseURL: \"http://localhost:5000/api/v1\",\r\n      headers: {\r\n        Authorization: `Bearer ${user.token}`,\r\n      },\r\n    });\r\n\r\n    instance\r\n      .post(`/conversations`, {\r\n        senderId: user.id,\r\n        receiverId,\r\n      })\r\n      .then((res) => {\r\n        history.push(\"/chat\");\r\n      })\r\n      .catch((err) => alert(err));\r\n  };\r\n\r\n  const createReqData = (reqData) => {\r\n    {\r\n      console.log(reqData);\r\n    }\r\n    if (reqData[3] === \"approved\") {\r\n      return (\r\n        <div className=\"card h-100\">\r\n          <div className=\"card-body\">\r\n            Your request on <b>{reqData[0]}</b> has been accepted!\r\n            <br /> Contact them at <b>{reqData[4]}</b>\r\n            <br />\r\n            <br />\r\n            <button\r\n              className=\"btn btn-primary\"\r\n              onClick={() => startConversation(reqData[7])}\r\n            >\r\n              Start Conversation\r\n            </button>\r\n            <div class=\"p-3 border bg-light\">\r\n              <i> Request made on {new Date(reqData[1]).toUTCString()}</i>\r\n              <br />\r\n              You said:\r\n              <br />\r\n              {reqData[2]}\r\n            </div>\r\n          </div>\r\n          Were you able to receive the item?\r\n          <br /> <br />\r\n          <a\r\n            href=\"#\"\r\n            class=\"btn btn-outline-success\"\r\n            onClick={(e) => success(e, reqData)}\r\n          >\r\n            Able\r\n          </a>\r\n          <a\r\n            href=\"#\"\r\n            class=\"btn btn-outline-danger\"\r\n            onClick={(e) => fail(e, reqData)}\r\n          >\r\n            Unable\r\n          </a>\r\n        </div>\r\n      );\r\n    } else if (reqData[3] === \"declined\") {\r\n    } else {\r\n      return (\r\n        <div class=\"col\">\r\n          <div class=\"p-3 border bg-light\">\r\n            You requested <b>{reqData[0]}</b> <br />\r\n            <i> On {new Date(reqData[1]).toUTCString()}</i>\r\n            <br />\r\n            You said:\r\n            <br />\r\n            {reqData[2]}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <NavigationBar\r\n        loggedin={true}\r\n        func={() => {\r\n          localStorage.removeItem(\"prosfero-token\");\r\n          localStorage.removeItem(\"prosfero-id\");\r\n          setUser({\r\n            token: null,\r\n            id: null,\r\n          });\r\n        }}\r\n      />\r\n      <div className=\"container profile\" style={{ marginTop: \"1rem\" }}>\r\n        <div className=\"text-center\" style={{ fontFamily: \"Dancing Script\" }}>\r\n          <h2>Requests You Made</h2>\r\n        </div>\r\n        <div class=\"container px-4\">\r\n          <div class=\"row row-cols-1 row-cols-sm-2 row-cols-md-3 g-4 gx-5\">\r\n            {requests && requests.map((item) => createReqData(item))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default YourRequests;\r\n","import { useContext, useState } from \"react\"\r\nimport { UserContext } from '../utils/UserContext'\r\nimport NavigationBar from \"../components/NavigationBar\"\r\nimport axios from 'axios'\r\n\r\nconst Telebot = () => {\r\n\r\n    const [state, setState] = useState({\r\n        username: '',\r\n        category: '',\r\n    })\r\n    const {user, setUser} = useContext(UserContext)\r\n\r\n    const url = 'http://localhost:5000/api/v1/telebots'\r\n\r\n    const change = (e) => {    \r\n        const newState = {...state}\r\n        newState[e.target.name] = e.target.value\r\n        setState(newState)\r\n    }\r\n\r\n    const onUsernameSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        axios.post(url, {\r\n            username: state.username\r\n        }, \r\n            {\r\n                 headers: {\r\n            'Authorization': `Bearer ${user.token}`}\r\n            }\r\n            ).then(\r\n            res => {\r\n                alert('Telegram Username Registered!')\r\n            }\r\n        ).catch(\r\n            err => alert(err)\r\n        )\r\n    }\r\n\r\n    const onCategorySubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        axios.put(url, {\r\n            category: state.category\r\n        }, \r\n            {\r\n                 headers: {\r\n            'Authorization': `Bearer ${user.token}`}\r\n            }\r\n            ).then(\r\n            res => {\r\n                alert(res.data)\r\n            }\r\n        ).catch(\r\n            err => alert(err)\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <NavigationBar loggedin={true} func={() => \r\n                {\r\n                    localStorage.removeItem('prosfero-token')\r\n                    localStorage.removeItem('prosfero-id')\r\n                    setUser(\r\n                        {\r\n                            token : null,\r\n                            id : null\r\n                        })\r\n                }\r\n            }/>\r\n\r\n            <div className ='form-pad'>\r\n                <form className='form-post'>\r\n                    <div className=\"text-center\">\r\n                        <h1 style={{fontFamily: 'Dancing Script'}}>Set up your telebot!</h1>\r\n                    </div>    \r\n                    <div className=\"text-left\">\r\n                        <h8>You can set up your Telegram bot extension and recieve notifications whenever a new item is posted!</h8>\r\n                    </div> \r\n                    <div className=\"mb-3\">\r\n                        <h8>Enter the Telegram username you want to connect your Prosfero account with.</h8>\r\n                        <br/><br/><label htmlFor=\"title\" className=\"form-label\">Telegram Username</label>\r\n                        <input type=\"text\" className=\"form-control\" id=\"username\" name='username' onChange={e => change(e)} value={state.username} placeholder=\"Enter Telegram username\" />\r\n                    </div>\r\n                    <div className=\"text-center\">\r\n                        <button type=\"submit\" className=\"btn btn-primary\" onClick={e => onUsernameSubmit(e)}>Submit</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n            <br/>\r\n            <div className ='form-pad'>\r\n                <form className='form-post'>\r\n                    <div className=\"mb-3\">\r\n                        <h8>Add a category to your <i>Interested</i> \r\n                            <br/>You will then recieve a notification whenever an item is posted in that category!</h8>\r\n                        <br/><br/><select className=\"form-select\" name=\"category\" value={state.category} onChange={e => change(e)} aria-label=\"choose chatergory\">\r\n                            <option value='' defaultValue disabled>Choose category</option>\r\n                            <option value=\"Food\">Food</option>\r\n                            <option value=\"Electronics\">Electronics</option>\r\n                            <option value=\"Stationary\">Stationary</option>\r\n                            <option value=\"Furniture\">Furniture</option>\r\n                        </select>\r\n                    </div>\r\n                    <div className=\"text-center\">\r\n                        <button type=\"submit\" className=\"btn btn-primary\" onClick={e => onCategorySubmit(e)}>Submit</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Telebot","import { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport { useMemo, useState } from \"react\";\r\n\r\nimport Profile from \"./pages/Profile\";\r\nimport Login from \"./pages/Login\";\r\nimport Registration from \"./pages/Registration\";\r\nimport { UserContext } from \"./utils/UserContext\";\r\nimport Welcome from \"./pages/Welcome\";\r\nimport WelcomeRouter from \"./utils/WelcomeRouter\";\r\nimport CreatePost from \"./pages/CreatePost\";\r\nimport Home from \"./pages/Home\";\r\nimport Post from \"./pages/Post\";\r\nimport EditPost from \"./pages/EditPost\";\r\nimport Search from \"./pages/Search\";\r\nimport Chat from \"./pages/Chat\";\r\nimport YourRequests from \"./pages/YourRequests\";\r\nimport Telebot from \"./pages/Telebot\";\r\n\r\nfunction App() {\r\n  // Is this fecthing the token in each render??\r\n  const [user, setUser] = useState({\r\n    token: localStorage.getItem(\"prosfero-token\"),\r\n    id: localStorage.getItem(\"prosfero-id\"),\r\n  });\r\n\r\n  const value = useMemo(() => ({ user, setUser }), [user, setUser]);\r\n\r\n  return (\r\n    <UserContext.Provider value={value}>\r\n      <Router>\r\n        <Switch>\r\n          <Route path=\"/login\" exact component={Login} />\r\n          <Route path=\"/profile\" exact component={Profile} />\r\n          <Route path=\"/registration\" exact component={Registration} />\r\n          <Route path=\"/welcome\" exact component={Welcome} />\r\n          <Route path=\"/createpost\" exact component={CreatePost} />\r\n          <Route path=\"/home\" exact component={Home} />\r\n          <Route path=\"/post/:postId\" exact component={Post} />\r\n          <Route path=\"/editpost/:postId\" exact component={EditPost} />\r\n          <Route path=\"/chat\" exact component={Chat} />\r\n          <Route path=\"/requests\" exact component={YourRequests} />\r\n          <Route path=\"/telebot\" exact component={Telebot} />\r\n          <Route path=\"/search\" component={Search} />\r\n          <Route path=\"/\" component={WelcomeRouter} />\r\n        </Switch>\r\n      </Router>\r\n    </UserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}